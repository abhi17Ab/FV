<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Elphaba Fabric 3 Seater Power Recliner Sofa | Furniture Village</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>
  <style>
    :root {
      --primary-color: #0f85d2;
      --secondary-color: #911a28;
      --text-color: #232323;
      --light-gray: #f5f5f5;
      --medium-gray: #ededed;
      --dark-gray: #757575;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body { 
      font-family: Arial, Helvetica, sans-serif; 
      background: #fff; 
      color: var(--text-color);
      line-height: 1.5;
    }
    
    a { 
      color: #3676b8; 
      text-decoration: none;
      transition: color 0.2s ease;
    }
    
    a:hover {
      color: var(--primary-color);
    }
    
    .red-bar { 
      background: var(--secondary-color); 
      color: #fff; 
      text-align: center; 
      padding: 10px 15px; 
      font-size: 16px; 
      font-weight: bold; 
    }
    
    .timer { 
      font-weight: bold; 
      background: var(--text-color); 
      border-radius: 5px; 
      padding: 4px 10px; 
      margin-left: 8px; 
      display: inline-block;
    }
    
    .header-main { 
      display: flex; 
      align-items: center; 
      justify-content: space-between; 
      padding: 15px 20px; 
      background: #f9f9f9;
      flex-wrap: wrap;
    }
    
    .logo-section { 
      display: flex; 
      align-items: center; 
      flex-wrap: wrap;
    }
    
    .logo-img { 
      background: var(--primary-color); 
      padding: 8px 15px; 
      border-radius: 3px;
      margin-right: 15px;
    }
    
    .logo-img span {
      color: #fff;
      font-size: 24px;
      font-family: 'Trebuchet MS', cursive;
    }
    
    .support-bar { 
      color: var(--text-color); 
      font-size: 14px;
    }
    
    .support-bar a { 
      color: #2d649c; 
      font-weight: bold; 
    }
    
    .top-icons { 
      display: flex; 
      align-items: center; 
      gap: 15px; 
      font-size: 14px;
      flex-wrap: wrap;
    }
    
    .search-row { 
      background: #f9f9f9; 
      border-bottom: 1px solid #e6e6e6; 
      padding: 12px 20px; 
    }
    
    .search-bar-inner { 
      max-width: 680px; 
      margin: 0 auto; 
      display: flex; 
      align-items: center;
    }
    
    .searchbar { 
      flex: 1; 
      padding: 12px 16px; 
      font-size: 16px; 
      border-radius: 4px; 
      border: 1.5px solid #cfcfcf;
    }
    
    .nav-row { 
      background: var(--medium-gray); 
      color: var(--text-color); 
      font-size: 16px; 
      padding: 0 20px;
      display: flex;
      gap: 15px;
      flex-wrap: wrap;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }
    
    .nav-row a { 
      color: var(--text-color); 
      font-weight: 500;
      padding: 12px 10px;
      display: inline-block;
      white-space: nowrap;
    }
    
    .main { 
      display: flex; 
      gap: 30px; 
      padding: 25px 20px; 
      max-width: 1520px; 
      margin: 0 auto;
      flex-direction: column;
    }
    
    .left-main { 
      width: 100%;
    }
    
    .gallery-main { 
      width: 100%; 
      display: grid; 
      grid-template-columns: 1fr; 
      gap: 20px; 
    }
    
    .gallery-main img { 
      width: 100%; 
      border-radius: 7px; 
      object-fit: cover;
      height: auto;
    }
    
    .product-row { 
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 0;
    }
    
    .at-badges { 
      display: flex; 
      gap: 20px; 
      margin-bottom: 15px; 
      flex-wrap: wrap;
      justify-content: center;
    }
    
    .at-badge {
      display: flex;
      align-items: center;
      gap: 7px;
      font-size: 14px;
      background: #f0f0f0;
      padding: 8px 12px;
      border-radius: 20px;
    }
    
    .at-badge-icon { 
      font-size: 18px; 
    }
    
    .elphaba-section { 
      background: #f7f7f7; 
      border-radius: 12px; 
      padding: 20px; 
      margin: 25px 0;
    }
    
    .elphaba-section h2 { 
      text-align: center; 
      font-weight: 400;
      margin: 0 0 10px 0;
      font-size: 22px;
    }
    
    .elphaba-section .elphaba-p { 
      text-align: center; 
      max-width: 800px; 
      margin: 0 auto 20px auto;
      font-size: 16px;
    }
    
    .sidebar { 
      width: 100%;
    }
    
    .price-sale { 
      color: #c2272d; 
      font-size: 18px; 
      font-weight: bold; 
      margin-top: 5px;
    }
    
    .price-line { 
      color: var(--dark-gray); 
      text-decoration: line-through; 
      margin-left: 7px; 
      font-size: 16px;
    }
    
    .save-price { 
      color: #c2272d; 
      margin-left: 9px;
      font-size: 16px;
    }
    
    .prod-stars {
      margin: 8px 0 10px 0; 
      color: #2e86c1;
      font-size: 16px;
    }
    
    .prod-meta { 
      display: flex; 
      align-items: center; 
      gap: 15px; 
      color: #444; 
      flex-wrap: wrap;
      margin-bottom: 15px;
    }
    
    .prod-meta span {
      font-size: 14px;
    }
    
    .order-block { 
      background: #fafbfc; 
      border-radius: 8px; 
      padding: 15px; 
      margin-top: 15px;
      border: 1px solid #e1e1e1;
    }
    
    .option-row { 
      border: 1px solid #e1e1e1; 
      background: #fff; 
      border-radius: 4px;
      padding: 12px 10px;
      font-size: 16px; 
      margin-bottom: 8px;
    }
    
    .option-row span {
      font-weight: bold;
    }
    
    .add-basket-row { 
      margin-top: 20px; 
      display: flex; 
      align-items: center;
      flex-direction: column;
      gap: 15px;
    }
    
    .qty { 
      width: 60px; 
      padding: 10px; 
      font-size: 16px; 
      border-radius: 5px; 
      border: 1px solid #c4c4c4; 
      text-align: center;
    }
    
    .add-to-basket { 
      background: var(--primary-color); 
      color: #fff; 
      font-weight: bold; 
      font-size: 18px; 
      border: none; 
      border-radius: 24px; 
      padding: 12px 30px; 
      cursor: pointer;
      width: 100%;
      max-width: 300px;
      transition: background 0.2s ease;
    }
    
    .add-to-basket:hover {
      background: #0c6cb5;
    }
    
    .promo-block { 
      background: #faf2f2; 
      color: #b1282d; 
      border: 1.5px solid #bd6f81; 
      border-radius: 9px; 
      padding: 12px 15px; 
      font-size: 14px; 
      margin: 15px 0 10px 0;
    }
    
    .social-row {
      margin: 15px 0 0 0;
      display: flex;
      gap: 20px;
      font-size: 20px;
      justify-content: center;
    }
    
    .footer { 
      background: #fff; 
      padding: 25px 20px 15px 20px; 
      margin-top: 25px; 
      border-top: 1.6px solid #d7d7d7;
    }
    
    .footer-menu { 
      display: grid; 
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 30px;
      margin-bottom: 20px;
    }
    
    .footer-list-title { 
      font-weight: bold; 
      margin-bottom: 10px;
      font-size: 16px;
    }
    
    .footer-links { 
      list-style: none; 
      margin: 0; 
      padding: 0;
    }
    
    .footer-links li {
      margin-bottom: 5px;
      font-size: 14px;
    }
    
    .footer-tags-section { 
      display: flex; 
      align-items: flex-start; 
      gap: 25px; 
      margin-top: 20px;
      flex-wrap: wrap;
    }
    
    .footer-logos { 
      margin-top: 15px;
    }
    
    .trustpilot { 
      margin-top: 10px;
    }
    
    .trustpilot-stars {
      color: #43b047;
      font-size: 18px;
    }
    
    .footer-social { 
      margin-top: 10px;
      display: flex;
      gap: 10px;
    }
    
    .disclaimer { 
      font-size: 12px; 
      color: #222; 
      margin-top: 20px;
      line-height: 1.4;
    }
    
    .copyright {
      margin-top: 15px;
      color: #888;
      font-size: 14px;
    }
    
    /* 3D Model Viewer Styles */
    .model-viewer-container { 
      position: relative; 
      width: 100%; 
      height: 50vh;
      min-height: 300px;
      max-height: 500px;
      border-radius: 8px; 
      overflow: hidden; 
      background: var(--light-gray);
      margin-bottom: 20px;
    }
    
    model-viewer { 
      width: 100%; 
      height: 100%; 
      --progress-bar-color: transparent; 
    }
    
    .viewer-controls { 
      position: absolute; 
      bottom: 20px; 
      left: 50%; 
      transform: translateX(-50%); 
      display: flex; 
      gap: 10px; 
      z-index: 10; 
      background: rgba(0, 0, 0, 0.7); 
      padding: 8px; 
      border-radius: 50px; 
    }
    
    .viewer-controls button { 
      background: none; 
      border: none; 
      color: white; 
      padding: 8px 12px; 
      border-radius: 50%; 
      cursor: pointer; 
      font-size: 16px; 
      transition: all 0.3s; 
    }
    
    .viewer-controls button:hover { 
      background: rgba(255, 255, 255, 0.2); 
      transform: scale(1.1); 
    }
    
    .progress-bar { 
      position: absolute; 
      bottom: 20px; 
      left: 50%; 
      transform: translateX(-50%); 
      width: 80%; 
      max-width: 400px; 
      height: 10px; 
      background: rgba(255, 255, 255, 0.1); 
      border-radius: 10px; 
      overflow: hidden; 
      z-index: 10; 
    }
    
    .update-bar { 
      height: 100%; 
      width: 0%; 
      background: linear-gradient(to right, #1a2a6c, #b21f1f); 
      border-radius: 10px; 
      transition: width 0.3s ease; 
    }
    
    .ar-button { 
      position: absolute; 
      bottom: 20px; 
      right: 20px; 
      background: #000; 
      color: white; 
      border: none; 
      padding: 10px 18px; 
      border-radius: 50px; 
      cursor: pointer; 
      font-size: 14px; 
      font-weight: 600; 
      display: flex; 
      align-items: center; 
      gap: 8px; 
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3); 
      z-index: 10; 
      transition: all 0.3s; 
    }
    
    .ar-button:hover { 
      background: #333; 
      transform: translateY(-2px); 
    }
    
    .model-badge { 
      position: absolute; 
      top: 15px; 
      left: 15px; 
      background: #000; 
      color: white; 
      padding: 5px 10px; 
      font-size: 12px; 
      border-radius: 3px; 
      z-index: 10; 
    }
    
    /* Media Queries for Responsiveness */
    @media (min-width: 768px) {
      .main {
        flex-direction: row;
      }
      
      .left-main {
        flex: 2.1;
      }
      
      .sidebar {
        flex: 1.2;
        max-width: 410px;
        min-width: 320px;
      }
      
      .gallery-main {
        grid-template-columns: 1fr 1fr;
      }
      
      .add-basket-row {
        flex-direction: row;
      }
      
      .add-to-basket {
        width: auto;
      }
      
      .header-main, .search-row, .nav-row, .footer {
        padding-left: 2.5vw;
        padding-right: 2.5vw;
      }
    }
    
    @media (min-width: 1024px) {
      .main {
        padding: 32px 2vw 0 2vw;
      }
      
      .elphaba-section {
        padding: 24px 28px;
      }
      
      .footer-menu {
        display: flex;
        gap: 85px;
      }
    }
    
    @media (max-width: 480px) {
      .header-main {
        flex-direction: column;
        gap: 15px;
        text-align: center;
      }
      
      .logo-section {
        justify-content: center;
        margin-bottom: 10px;
      }
      
      .top-icons {
        justify-content: center;
      }
      
      .nav-row {
        padding: 10px 15px;
        justify-content: center;
      }
      
      .nav-row a {
        padding: 10px 8px;
        font-size: 14px;
      }
      
      .at-badges {
        gap: 10px;
      }
      
      .at-badge {
        font-size: 12px;
        padding: 6px 10px;
      }
      
      .model-viewer-container {
        height: 40vh;
        min-height: 250px;
      }
      
      .viewer-controls {
        bottom: 15px;
      }
      
      .ar-button {
        bottom: 15px;
        right: 15px;
        padding: 8px 15px;
        font-size: 12px;
      }
    }
  </style>
</head>
<body>
  <!-- SALE BAR -->
  <div class="red-bar">
    SALE ENDS IN:
    <span class="timer">04 days 09 hours 57 minutes</span>
  </div>
  
  <!-- HEADER -->
  <div class="header-main">
    <div class="logo-section">
      <div class="logo-img"><span>Furniture Village</span></div>
      <span class="support-bar">
        Call our sofa experts on <a href="tel:03456461701">0345 646 1701</a>
      </span>
    </div>
    <div class="top-icons">
      <span>Store finder</span>
      <span>Track my order</span>
      <span style="font-size:18px;">&#9829;</span>
      <span style="font-size:18px;">&#128100;</span>
      <span style="font-size:18px;">&#128717;</span>
    </div>
  </div>
  
  <!-- SEARCH -->
  <div class="search-row">
    <div class="search-bar-inner">
      <input class="searchbar" type="text" placeholder="Search for a product or brand">
    </div>
  </div>
  
  <!-- NAVIGATION -->
  <div class="nav-row">
    <a href="#">Sale</a>
    <a href="#">New</a>
    <a href="#">Sofas & Chairs</a>
    <a href="#">Dining</a>
    <a href="#">Living room</a>
    <a href="#">Beds & Bedroom</a>
    <a href="#">Home Accessories</a>
    <a href="#">Quick Delivery</a>
    <a href="#">Inspire Me</a>
    <a href="#">Clearance</a>
  </div>
  
  <!-- MAIN GRID -->
  <div class="main">
    <!-- Left PRODUCT IMAGES AND ELPHABA COLLECTION -->
    <div class="left-main">
      <div class="product-row">
        <div class="at-badges">
          <div class="at-badge"><span class="at-badge-icon">&#8962;</span> Exclusive to Furniture Village</div>
          <div class="at-badge"><span class="at-badge-icon">&#9786;</span> Medium – Comfort and support</div>
          <div class="at-badge"><span class="at-badge-icon">&#128198;</span> 20 Year Structural Guarantee</div>
          <div class="at-badge"><span class="at-badge-icon">&#128126;</span> 3D View Available</div>
        </div>
      </div>
      
      <div class="gallery-main">
        <!-- 3D Model Viewer -->
        <div class="model-viewer-container">
          <model-viewer 
            src="./Bsofa.glb"
            ar 
            ar-modes="webxr scene-viewer quick-look" 
            camera-controls 
            tone-mapping="neutral"
            shadow-intensity="1.19" 
            autoplay 
            environment-image="./music_hall_01_1k.hdr"
            exposure="0.72" 
            shadow-softness="1" 
            camera-orbit="0deg 75deg 3m" 
            field-of-view="20.27deg"
            alt="Elphaba Sofa 3D Model">
            
            <div class="progress-bar" slot="progress-bar">
              <div class="update-bar"></div>
            </div>
            
            <button slot="ar-button" class="ar-button">
              View in AR
            </button>
          </model-viewer>
          
          <div class="model-badge">3D VIEW</div>
          
          <div class="viewer-controls">
            <button id="orbit-control" title="Orbit Mode">⟳</button>
            <button id="first-person" title="First Person View">👤</button>
            <button id="reset-view" title="Reset View">⌂</button>
          </div>
        </div>
        
        <!-- Gallery Images -->
        <img src="./ang1.png" alt="Sofa angle view">
        <img src="./generated-image.png" alt="Sofa in room setting">
      </div>
      
      <div class="elphaba-section">
        <div style="text-align:center;margin-bottom:4px;">
          <span style="color:#3271bb;font-size:15px;font-weight:600;">More from</span>
        </div>
        <h2>The Elphaba Collection</h2>
        <div class="elphaba-p">
          Why play it safe when you make a statement? Our exclusive Elphaba range is a fabulous synthesis of stunning details, ingenious design and exceptional comfort – pocket sprung seat cushioning comes as standard and you can also add power recliners and manual headrests. Showcasing a silhouette inspired by Art Deco style, Elphaba sofas and chairs are innovative as well as striking. In each sofa and chair arm you'll find a pull-out storage compartment that makes sure all your relaxation essentials are close at hand. Available in both 100% leather and fabric, the handcrafted Elphaba range is exclusively available at Furniture Village.
        </div>
      </div>
    </div>
    
    <!-- SIDEBAR -->
    <div class="sidebar">
      <h2 style="font-weight:normal;font-size:22px;margin:0;">
        Elphaba Fabric 3 Seater Power Recliner Sofa with Storage Arms
      </h2>
      <div>
        <span class="save-price">Save £446</span>
        <span class="price-line">After Sale Price £1645</span>
        <span class="price-line">Sale £1395</span>
      </div>
      <div class="price-sale">
        Final Reduction £1199
      </div>
      <div class="prod-stars">★★★★☆ (8)</div>
      <div class="prod-meta">
        <span> <span style="font-size:16px;">🚚</span> Delivered in 5 weeks</span>
        <span>0% Finance available</span>
        <a href="#">Order a fabric sample</a>
      </div>
      <div class="order-block">
        <div class="option-row"><span>Colour:</span> Opulence Bottle Green 51011</div>
        <div class="option-row"><span>Recliner:</span> Power Recliner</div>
        <div class="option-row"><input type="checkbox" id="care-kit"> <label for="care-kit">Add Care+ Protect & Care Kit from £160</label></div>
        <div class="add-basket-row">
          <select class="qty"><option selected>1</option><option>2</option><option>3</option></select>
          <button class="add-to-basket">ADD TO BASKET</button>
        </div>
      </div>
      <div class="promo-block">
        Final Reduction<br>
        Price includes an EXTRA £195 off. This offer cannot be applied retrospectively or with any other offer. Ends 31 August 2025.<br>
        Sale ends in: <strong>04 days 09 hours 56 minutes</strong>
      </div>
      <div style="margin:16px 0;display:flex;gap:12px;align-items:center;flex-wrap: wrap;">
        <span style="font-size:22px;">♡</span><span>Add to Shortlist</span>
        <span style="margin-left:auto;display:flex;gap:12px;">
          <a href="#"><span style="font-size:18px;">&#xf09a;</span></a>
          <a href="#"><span style="font-size:18px;">&#xf16d;</span></a>
          <a href="#"><span style="font-size:18px;">&#xf232;</span></a>
          <a href="#"><span style="font-size:18px;">&#xf1bc;</span></a>
          <a href="#"><span style="font-size:18px;">&#xf0e0;</span></a>
        </span>
      </div>
      <div style="margin-top:17px;">
        <button style="width:100%;padding:12px 0;background:#f3f4f4;border:none;border-radius:8px;font-size:16px;font-weight:bold;cursor:pointer;">Shop the range</button>
      </div>
      <div style="margin-top:23px;">
        <h3 style="font-size:18px;margin-bottom:8px;">Why you'll love it</h3>
        <ul style="margin-top:0;padding-left:20px;">
          <li>Everything about this sofa looks and feels fabulous.</li>
          <li>You'll love its cool Art Deco-inspired lines, deep seats and secret storage.</li>
          <li>With optional power recliners and perfect-positioning manual headrests.</li>
          <li>The power model's back recline and footrest work independently for personalised comfort.</li>
          <li>Pocket spring seat cushioning ensures that this sofa is as comfy as it is stylish.</li>
          <li>Plus each arm conceals a generously sized pull-out storage compartment.</li>
          <li>Metal legs.</li>
          <li>Upholstered in a choice of luxe fabrics and sophisticated colours.</li>
          <li>Striking stitching detail accentuates the sumptuous cushioning.</li>
          <li>Also available in 100% leather.</li>
          <li>Made by hand exclusively for Furniture Village.</li>
          <li>This 3-seater sofa with storage arms is part of our Elphaba range.</li>
        </ul>
        <h3 style="font-size:17px;margin-top:20px;margin-bottom:8px;">What you need to know</h3>
        <ul style="padding-left:20px;">
          <li>Medium comfort level.</li>
          <li>Seat suspension: sinuous springs.</li>
          <li>Seat cushioning: pocket spring, foam and Dacron. Seat cushioning is fixed.</li>
          <li>Back suspension: webbing.</li>
          <li>Back cushioning: fibre. Back cushioning is fixed.</li>
          <li>Arm cushioning: foam and Dacron.</li>
          <li>Back and feet are removable for ease of access.</li>
          <li>USB charging is not available on the non-power recliner version of this sofa.</li>
          <li>Please allow time for the recliner mechanism to ease.</li>
          <li>Minor gaps are necessary to ensure ease of motion and may be exaggerated depending on floor type.</li>
          <li>Fixed seat and back cushions require smoothing and straightening regularly.</li>
        </ul>
      </div>
    </div>
  </div>
  
  <!-- FOOTER -->
  <div class="footer">
    <div class="footer-menu">
      <div>
        <div class="footer-list-title">About us</div>
        <ul class="footer-links">
          <li>About us</li>
          <li>Careers</li>
          <li>Privacy policy</li>
          <li>Cookie policy</li>
          <li>Tax strategy</li>
          <li>Sustainability</li>
          <li>Price information</li>
          <li>Modern slavery statement</li>
        </ul>
      </div>
      <div>
        <div class="footer-list-title">Inspiration</div>
        <ul class="footer-links">
          <li>TV ad</li>
          <li>Brands directory</li>
          <li>The Home of Inspiration</li>
          <li>Shop Instagram</li>
          <li>The 24-hour sleep guide</li>
          <li>How to move a sofa</li>
          <li>Order a brochure</li>
        </ul>
      </div>
      <div>
        <div class="footer-list-title">Our services</div>
        <ul class="footer-links">
          <li>Interest free credit</li>
          <li>Care+ Protect</li>
          <li>Delivery</li>
          <li>Recycling your furniture</li>
          <li>20 year guarantee</li>
          <li>Lowest price guaranteed</li>
          <li>Home Design Studio</li>
        </ul>
      </div>
      <div>
        <div class="footer-list-title">Help & advice</div>
        <ul class="footer-links">
          <li>Contact us</li>
          <li>Customer Care</li>
          <li>Returns and cancellations</li>
          <li>Payment options</li>
          <li>Buying and care guides</li>
          <li>Glossary of terms</li>
        </ul>
      </div>
      <div style="min-width:200px;">
        <div class="footer-logos">
          <div style="margin-bottom:10px;">
            <img style="height:50px;border-radius:7px;" src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c0/Furniture_Village_logo.svg/1280px-Furniture_Village_logo.svg.png" alt="Furniture Village logo">
          </div>
          <div class="trustpilot">
            <span class="trustpilot-stars">&#9733;&#9733;&#9733;&#9733;&#9733;</span><br>
            TrustScore <b>4.8</b> <a href="#">165,483 reviews</a>
          </div>
          <div class="footer-social">
            <span style="font-size:20px;">&#xf09a;</span> <span style="font-size:20px;">&#xf16d;</span> <span style="font-size:20px;">&#xf232;</span> <span style="font-size:20px;">&#xf1bc;</span> <span style="font-size:20px;">&#xf0d2;</span>
          </div>
        </div>
      </div>
    </div>
    <div class="footer-tags-section"></div>
    <div class="disclaimer">
      *0% APR Representative example: Cash price £2000. Deposit £400. 20 monthly payments of £80. Total payable £2000. Minimum spend of £500. Subject to status. Written quotation upon request. Furniture Village Ltd (Company number 2307708, Slough SL1 4DX) are a credit broker, not a lender. Authorised and regulated by the Financial Conduct Authority. Credit is provided by Novuna Personal Finance, a trading style of Mitsubishi HC Capital UK PLC, authorised and regulated by the Financial Conduct Authority. Financial Services Register no. 704348. The register can be accessed through <a href="http://www.fca.org.uk" target="_blank">http://www.fca.org.uk</a>.
    </div>
    <div class="copyright">
      &copy; Furniture Village UK 2025
    </div>
    <div style="font-size: 14px; margin-top: 15px; color: #232323; cursor:pointer;">
      Terms & conditions
    </div>
  </div>

  <script>
    // 3D Model Viewer Functionality
    document.addEventListener('DOMContentLoaded', function() {
      const modelViewer = document.querySelector('model-viewer');
      const progressBar = document.querySelector('.update-bar');
      
      // Simulate loading progress
      let progress = 0;
      const loadingInterval = setInterval(() => {
        progress += Math.random() * 10;
        progressBar.style.width = `${progress}%`;
        
        if (progress >= 100) {
          clearInterval(loadingInterval);
        }
      }, 300);
      
      // Listen for actual model load event
      modelViewer.addEventListener('load', () => {
        clearInterval(loadingInterval);
        progressBar.style.width = '100%';
        setTimeout(() => {
          document.querySelector('.progress-bar').classList.add('hide');
        }, 500);
      });
      
      // View controls
      document.getElementById('reset-view').addEventListener('click', () => {
        modelViewer.cameraOrbit = '0deg 75deg 3m';
        modelViewer.fieldOfView = '20.27deg';
      });
      
      document.getElementById('orbit-control').addEventListener('click', () => {
        modelViewer.cameraOrbit = '0deg 75deg 3m';
      });
      
      document.getElementById('first-person').addEventListener('click', () => {
        modelViewer.cameraOrbit = '0deg 90deg 1.5m';
      });
      
      // Mobile menu toggle for small screens
      const navRow = document.querySelector('.nav-row');
      if (window.innerWidth < 768) {
        navRow.style.display = 'none';
        const menuToggle = document.createElement('button');
        menuToggle.innerHTML = '☰ Menu';
        menuToggle.style.cssText = 'background: #ededed; border: none; padding: 10px 15px; border-radius: 4px; margin: 10px auto; display: block; cursor: pointer;';
        document.querySelector('.search-row').after(menuToggle);
        
        menuToggle.addEventListener('click', () => {
          navRow.style.display = navRow.style.display === 'flex' ? 'none' : 'flex';
        });
      }
    });
  </script>
</body>
</html>
